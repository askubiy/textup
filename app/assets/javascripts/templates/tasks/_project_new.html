<div class="page-header">
  <h1>{{'add_task_for_project' | translate}} {{project.title}}</h1>
</div>

<div class="row">
  <div class="col-md-4">
    <form class="task-form form-validation" name="newTask" novalidate>
      <div class="form-group">
        <label for="title">{{'task_name' | translate}}:</label>
        <input name="newTaskTitle" type="text" ng-class="{'ng-touched': newTask.$submitted}"
          autocomplete="off" class="form-control"
          required="" id="title" ng-model="newTaskTitle"
          placeholder="{{'task_name' | translate}}">
        <div ng-show="newTask.$submitted || newTask.newTaskTitle.$touched">
          <div ng-show="newTask.newTaskTitle.$error.required" class="error-text">
            {{'field_not_filled' | translate}}
          </div>
        </div>
      </div>

      <div class="form-group has-feedback">
        <label for="start-date">{{'start_date' | translate}}:</label>
        <input type="text" autocomplete="off" class="form-control"
          name="startDateTime" id="start-date" ng-model="startDateTime"
          placeholder="{{'start_date' | translate}}"
          date-time-picker>
        <i class="form-control-feedback glyphicon
          glyphicon-calendar pull-left"></i>
        <div ng-show="newTask.$submitted || newTask.startDateTime.$touched">
          <div ng-show="newTask.startDateTime.$error.dateTimeRequired" class="error-text">
            {{'field_not_filled' | translate}}
          </div>
        </div>
      </div>

      <div class="form-group has-feedback">
        <label for="finish-date">{{'end_date' | translate}}:</label>
        <input type="text" autocomplete="off" class="form-control"
          name="estimatedFinishDateTime" date-time-picker
          id="finish-date" ng-model="estimatedFinishDateTime"
          placeholder="{{'end_date' | translate}}">
        <i class="form-control-feedback glyphicon
          glyphicon-calendar pull-left"></i>
        <div ng-show="newTask.$submitted || newTask.estimatedFinishDateTime.$touched">
          <div ng-show="newTask.estimatedFinishDateTime.$error.dateTimeRequired" class="error-text">
            {{'field_not_filled' | translate}}
          </div>
        </div>
      </div>

      <div class="form-group">
        <label for="status-select">{{'status' | translate}}:</label>
        <select class="form-control" name="status" id="status-select" ng-model="status"
          ng-options="(status.status_type | translate) for status in statuses | orderBy:'id' track by status.id" required="">
          <option value="">--- {{'select_status' | translate}} ---</option>
        </select>
        <div ng-show="newTask.$submitted || newTask.status.$touched">
          <div ng-show="newTask.status.$error.required" class="error-text">
            {{'item_not_selected' | translate}}
          </div>
        </div>
      </div>

      <div class="form-group">
        <label for="project-select">{{'project' | translate}}:</label>
        <select disabled="true" class="form-control" id="project-select" ng-model="project"
          ng-options="project.title for project in projects | orderBy:'title' track by project.id" required="true">
          <option value="">--- {{'select_project' | translate}} ---</option>
        </select>
      </div>

      <div class="form-group">
        <label for="description">{{'description' | translate}}:</label>
        <textarea class="form-control" ng-model="newTaskDescription"
          rows="5" id="description" placeholder="{{'description' | translate}}"></textarea>
      </div>

      <input ng-click="addTask()" type="submit"
        class="btn btn-success" value="{{'add' | translate}}">
      <a href='/#/projects/{{project.id}}/show'> {{'go_to_task_list' | translate}}</a>
    </form>
  </div>
</div>