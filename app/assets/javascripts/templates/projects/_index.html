<div class="page-header">
  <h1>Проекты</h1>
</div>

<div class="table-top-menu">
  <div class="search-box col-md-4">
    <form role="form">
      <div class="form-group has-feedback has-feedback-left">
        <input type="text" class="form-control"
          ng-model="tableFilter" placeholder="Фильтр" />
        <i class="form-control-feedback glyphicon
          glyphicon-search pull-left"></i>
      </div>
    </form>
  </div>

  <a class="btn btn-success add-customer" href="#/projects/new">
    <span class="glyphicon glyphicon-plus"></span> Добавить проект
  </a>
</div>

<div>
  <table class="table table-hover table-vcenter">
    <thead>
      <tr>
        <th>Название</th>
        <th>Добавлен</th>
        <th>Заказчик</th>
        <th>Действия</th>
      </tr>
    </thead>
    <tbody>
      <tr ng-repeat="project in projects | filter:tableFilter | orderBy: 'title'">
        <td class="col-md-2">{{project.title}}</td>
        <td class="col-md-2">{{project.created_at | date: "dd/MM/yyyy HH:mm"}}</td>
        <td class="col-md-2">
          <a ng-show="project.customer" href="/#customers/{{project.customer ? project.customer.id : '' }}/show">
            <span class="glyphicon glyphicon-stop" style="color: {{project.customer.colour}}"></span>
            {{project.customer ? project.customer.name : '' }}
          </a>
        </td>
        <td class="col-md-4">
          <a href="#/projects/{{project.id}}/show" class="btn btn-info">
            Подробнее </a>
          <a href="#/projects/{{project.id}}/edit" class="btn btn-warning">
            Редактировать </a>
          <button class="btn btn-danger"
            ng-click="destroyProject(project)">
            Удалить
          </button>
        </td>
      </tr>
    </tbody>
  </table>
</div>