<div class="page-header">
  <h1 translate>edit_payment</h1>
</div>
<div class="actions" ng-model="task">
  <a href='#/tasks/{{task.id}}/show'> {{'go_to_task' | translate}} </a> |
  <a class='delete' ng-click="destroyPayment(check)"><span class="glyphicon glyphicon-remove"></span> {{'delete' | translate}} </a>
</div>

<div class="row">
  <div class="col-md-4">
    <form name="editPayment" class="form-validation" novalidate>
      <div class="form-group">
        <label for="title">{{'price' | translate}}:</label>
        <input name="price" type="number" autocomplete="off" class="form-control" min="0"
          id="title" ng-model="check.price" ng-value="angular.fromJson(check.price)" placeholder="{{'price' | translate}}" required>
        <div ng-show="editPayment.$submitted || editPayment.price.$touched">
          <div ng-show="editPayment.price.$error.number" class="error-text">
            {{'error_number_greater' | translate}} 0
          </div>
          <div ng-show="editPayment.price.$error.required" class="error-text">
            {{'field_not_filled' | translate}}
          </div>
        </div>
      </div>

      <div class="form-group">
        <label for="status-select">{{'status' | translate}}:</label>
        <select class="form-control" id="status-select" ng-model="status" name="status"
          ng-options="(status.name + '_check' | translate) for status in check_statuses | orderBy:'id' track by status.id" required>
          <option value="">--- {{'select_status' | translate}} ---</option>
        </select>
        <div ng-show="editPayment.$submitted || editPayment.status.$touched">
          <div ng-show="editPayment.status.$error.required" class="error-text">
            {{'item_not_selected' | translate}}
          </div>
        </div>
      </div>

      <div class="form-group">
        <label for="currency-select">{{'currency' | translate}}:</label>
        <select class="form-control" id="currency-select" ng-model="currency" name="currency" required
          ng-options="currency.abbreviation for currency in currencies | orderBy:'abbreviation' track by currency.id">
          <option value="">--- {{'select_currency' | translate}} ---</option>
        </select>
        <div ng-show="editPayment.$submitted || editPayment.currency.$touched">
          <div ng-show="editPayment.currency.$error.required" class="error-text">
            {{'item_not_selected' | translate}}
          </div>
        </div>
      </div>

      <input ng-click="updatePayment()" type="submit"
        class="btn btn-success" value="{{'save' | translate}}">
    </form>
  </div>
</div>